(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{11133:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},35695:(e,t,r)=>{"use strict";var l=r(18999);r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}})},44611:(e,t,r)=>{Promise.resolve().then(r.bind(r,64044))},45731:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},55365:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>i,TN:()=>c,XL:()=>o});var l=r(95155),s=r(12115),a=r(74466),n=r(59434);let u=(0,a.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=s.forwardRef((e,t)=>{let{className:r,variant:s,...a}=e;return(0,l.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(u({variant:s}),r),...a})});i.displayName="Alert";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});o.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var l=r(52596),s=r(39688);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,l.$)(t))}},64044:(e,t,r)=>{"use strict";r.d(t,{AdminOnly:()=>o,FacultyOnly:()=>c,q:()=>d});var l=r(95155),s=r(68437),a=r(55365),n=r(11133),u=r(45731);function i(e){let{children:t,allowedRoles:r,fallback:i}=e,{user:o,hasAnyRole:c}=(0,s.A)();return o?c(r)?(0,l.jsx)(l.Fragment,{children:t}):i?(0,l.jsx)(l.Fragment,{children:i}):(0,l.jsxs)(a.Fc,{variant:"destructive",children:[(0,l.jsx)(u.A,{className:"h-4 w-4"}),(0,l.jsxs)(a.TN,{children:["You don't have permission to access this content. Required roles: ",r.join(", "),". Your role: ",o.role,"."]})]}):(0,l.jsxs)(a.Fc,{children:[(0,l.jsx)(n.A,{className:"h-4 w-4"}),(0,l.jsx)(a.TN,{children:"Please log in to access this content."})]})}function o(e){let{children:t,fallback:r}=e;return(0,l.jsx)(i,{allowedRoles:["admin"],fallback:r,children:t})}function c(e){let{children:t,fallback:r}=e;return(0,l.jsx)(i,{allowedRoles:["faculty","admin"],fallback:r,children:t})}function d(e){let{children:t,fallback:r}=e;return(0,l.jsx)(i,{allowedRoles:["student"],fallback:r,children:t})}},68437:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,AuthProvider:()=>i});var l=r(95155),s=r(35695),a=r(12115);let n=(0,a.createContext)(void 0),u="frosty-user-session";function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),d=(0,s.useRouter)();(0,a.useEffect)(()=>{try{let e=localStorage.getItem(u);e&&i(JSON.parse(e))}catch(e){localStorage.removeItem(u)}c(!1)},[]);let v=(0,a.useCallback)(e=>{i(e),localStorage.setItem(u,JSON.stringify(e)),d.push("/")},[d]),f=(0,a.useCallback)(()=>{i(null),localStorage.removeItem(u),d.push("/login")},[d]),h=(0,a.useCallback)(e=>(null==r?void 0:r.role)===e,[r]),m=(0,a.useCallback)(e=>!!r&&e.includes(r.role),[r]);return(0,l.jsx)(n.Provider,{value:{user:r,loading:o,login:v,logout:f,hasRole:h,hasAnyRole:m},children:t})}function o(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var l=r(52596);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=l.$,n=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:u}=t,i=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],l=null==u?void 0:u[e];if(null===t)return null;let a=s(t)||s(l);return n[e][a]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,l]=t;return void 0===l||(e[r]=l),e},{});return a(e,i,null==t||null==(l=t.compoundVariants)?void 0:l.reduce((e,t)=>{let{class:r,className:l,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...u,...o}[t]):({...u,...o})[t]===r})?[...e,r,l]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},e=>{var t=t=>e(e.s=t);e.O(0,[769,441,684,358],()=>t(44611)),_N_E=e.O()}]);
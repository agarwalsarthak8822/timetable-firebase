(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{11698:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]])},31550:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},34859:(e,t,r)=>{Promise.resolve().then(r.bind(r,75833))},35695:(e,t,r)=>{"use strict";var l=r(18999);r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}})},37648:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},51920:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},66634:(e,t,r)=>{"use strict";r.d(t,{DX:()=>i});var l=r(12115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var a=r(95155),i=function(e){let t=function(e){let t=l.forwardRef((e,t)=>{let{children:r,...a}=e;if(l.isValidElement(r)){var i;let e,d,n=(i=r,(d=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(d=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),o=function(e,t){let r={...t};for(let l in t){let s=e[l],a=t[l];/^on[A-Z]/.test(l)?s&&a?r[l]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[l]=s):"style"===l?r[l]={...s,...a}:"className"===l&&(r[l]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==l.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,l=e.map(e=>{let l=s(e,t);return r||"function"!=typeof l||(r=!0),l});if(r)return()=>{for(let t=0;t<l.length;t++){let r=l[t];"function"==typeof r?r():s(e[t],null)}}}}(t,n):n),l.cloneElement(r,o)}return l.Children.count(r)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=l.forwardRef((e,r)=>{let{children:s,...i}=e,d=l.Children.toArray(s),o=d.find(n);if(o){let e=o.props.children,s=d.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...i,ref:r,children:l.isValidElement(e)?l.cloneElement(e,void 0,s):null})}return(0,a.jsx)(t,{...i,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}("Slot"),d=Symbol("radix.slottable");function n(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d,wL:()=>m});var l=r(95155),s=r(12115),a=r(59434);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});n.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})});m.displayName="CardFooter"},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var l=r(52596);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=l.$,i=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:d}=t,n=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],l=null==d?void 0:d[e];if(null===t)return null;let a=s(t)||s(l);return i[e][a]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,l]=t;return void 0===l||(e[r]=l),e},{});return a(e,n,null==t||null==(l=t.compoundVariants)?void 0:l.reduce((e,t)=>{let{class:r,className:l,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...d,...o}[t]):({...d,...o})[t]===r})?[...e,r,l]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},75833:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var l=r(95155),s=r(12115),a=r(68437),i=r(18452),d=r(66695),n=r(26126),o=r(30285),c=r(87481),m=r(11698),x=r(37648),h=r(51920),u=r(91721),p=r(31550),b=r(83662),f=r(40157);let g=(0,f.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),y=(0,f.A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),j=(0,f.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),v=[{id:"math",name:"Mathematics",code:"MATH101",type:"lecture"},{id:"physics",name:"Physics",code:"PHY101",type:"lecture"},{id:"chemistry",name:"Chemistry",code:"CHEM101",type:"lecture"},{id:"cs",name:"Computer Science",code:"CS101",type:"lecture"},{id:"cslab",name:"Computer Science Lab",code:"CS101L",type:"lab"},{id:"english",name:"English",code:"ENG101",type:"lecture"},{id:"economics",name:"Economics",code:"ECO101",type:"lecture"},{id:"statistics",name:"Statistics",code:"STAT101",type:"lecture"}];function N(e){let{schedule:t,availableSubjects:r}=e,s=[{time:"9:10 AM - 9:25 AM",label:"Mentor Time",type:"mentor"},{time:"9:30 AM - 10:25 AM",label:"1st",type:"lecture"},{time:"10:30 AM - 11:25 AM",label:"2nd",type:"lecture"},{time:"11:30 AM - 12:25 PM",label:"3rd",type:"lecture"},{time:"12:30 PM - 1:25 PM",label:"4th",type:"lecture"},{time:"1:25 PM - 2:25 PM",label:"Lunch Break",type:"break"},{time:"2:30 PM - 3:25 PM",label:"5th",type:"lecture"},{time:"3:30 PM - 4:25 PM",label:"6th",type:"lecture"}],a=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=new Map;return t&&Array.isArray(t)&&t.forEach(e=>{let t="".concat(e.day,"-").concat(e.slot);i.set(t,e)}),(0,l.jsxs)("div",{className:"bg-white shadow-2xl border-2 border-indigo-200 overflow-hidden rounded-2xl",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white p-8 relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 via-purple-500/20 to-pink-500/20"}),(0,l.jsxs)("div",{className:"relative z-10",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border-2 border-white/30",children:(0,l.jsx)(m.A,{className:"w-12 h-12 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white leading-tight",children:"College of Computing Sciences and Information Technology"}),(0,l.jsx)("p",{className:"text-indigo-100 mt-2 text-lg font-medium",children:"B.Tech (Artificial Intelligence, Machine Learning & Data Science) 3rd Semester (B)"})]})]})}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[(0,l.jsx)("div",{className:"text-indigo-200 text-xs font-medium",children:"Academic Year"}),(0,l.jsx)("div",{className:"text-white font-bold text-lg",children:"2024-25"})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[(0,l.jsx)("div",{className:"text-purple-200 text-xs font-medium",children:"Semester"}),(0,l.jsx)("div",{className:"text-white font-bold text-lg",children:"3rd"})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[(0,l.jsx)("div",{className:"text-pink-200 text-xs font-medium",children:"Section"}),(0,l.jsx)("div",{className:"text-white font-bold text-lg",children:"B"})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[(0,l.jsx)("div",{className:"text-blue-200 text-xs font-medium",children:"Effective From"}),(0,l.jsx)("div",{className:"text-white font-bold text-sm",children:new Date().toLocaleDateString()})]})]})]})]}),(0,l.jsx)("div",{className:"overflow-x-auto bg-gradient-to-br from-gray-50 to-blue-50 p-4",children:(0,l.jsxs)("table",{className:"w-full border-collapse shadow-lg rounded-lg overflow-hidden",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border-2 border-indigo-300 bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-4 text-center font-bold text-sm min-w-[120px] shadow-md",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(x.A,{className:"w-4 h-4"}),"HOURS"]})}),a.map((e,t)=>(0,l.jsx)("th",{className:"border-2 border-indigo-300 bg-gradient-to-r ".concat(["from-red-500 to-pink-500","from-orange-500 to-yellow-500","from-green-500 to-emerald-500","from-blue-500 to-cyan-500","from-purple-500 to-violet-500","from-pink-500 to-rose-500"][t]," text-white p-4 text-center font-bold text-sm min-w-[140px] shadow-md"),children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(h.A,{className:"w-4 h-4"}),e.toUpperCase()]})},e))]})}),(0,l.jsx)("tbody",{children:s.map((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{className:"border-2 border-indigo-200 p-4 text-center font-medium text-xs shadow-sm ".concat("mentor"===e.type?"bg-gradient-to-r from-yellow-100 to-amber-100 border-yellow-300":"break"===e.type?"bg-gradient-to-r from-orange-100 to-red-100 border-orange-300":"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200"),children:[(0,l.jsx)("div",{className:"font-bold text-sm ".concat("mentor"===e.type?"text-yellow-800":"break"===e.type?"text-orange-800":"text-indigo-800"),children:e.label}),(0,l.jsx)("div",{className:"text-xs mt-1 ".concat("mentor"===e.type?"text-yellow-600":"break"===e.type?"text-orange-600":"text-indigo-600"),children:e.time})]}),a.map((a,d)=>{if("mentor"===e.type)return(0,l.jsx)("td",{className:"border-2 border-yellow-300 p-3 text-center bg-gradient-to-br from-yellow-100 to-amber-100 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(u.A,{className:"w-3 h-3 text-yellow-700"}),(0,l.jsx)("div",{className:"text-xs font-bold text-yellow-800",children:"Mentor Time"})]})},"".concat(a,"-").concat(t));if("break"===e.type)return(0,l.jsx)("td",{className:"border-2 border-orange-300 p-3 text-center bg-gradient-to-br from-orange-100 to-red-100 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(x.A,{className:"w-3 h-3 text-orange-700"}),(0,l.jsx)("div",{className:"text-xs font-bold text-orange-800",children:"LUNCH BREAK"})]})},"".concat(a,"-").concat(t));let n=null,o=null;if("lecture"===e.type){let t=s.filter(e=>"lecture"===e.type).findIndex(t=>t.label===e.label);o=(n=i.get("".concat(a,"-").concat(t+1)))?r.find(e=>e.id===n.subjectId):null}let c=["from-blue-100 to-cyan-100 border-blue-300","from-green-100 to-emerald-100 border-green-300","from-purple-100 to-violet-100 border-purple-300","from-pink-100 to-rose-100 border-pink-300","from-indigo-100 to-blue-100 border-indigo-300","from-yellow-100 to-amber-100 border-yellow-300","from-red-100 to-pink-100 border-red-300","from-teal-100 to-cyan-100 border-teal-300"],m=n?(d+t)%c.length:0;return(0,l.jsx)("td",{className:"border-2 border-indigo-200 p-1 text-center min-h-[80px] shadow-sm transition-all hover:shadow-md ".concat(n&&o?"bg-gradient-to-br ".concat(c[m]):"bg-gradient-to-br from-gray-50 to-gray-100"),children:n&&o?(0,l.jsxs)("div",{className:"p-2 h-full flex flex-col justify-center",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,l.jsx)(p.A,{className:"w-3 h-3 text-gray-600"}),(0,l.jsx)("div",{className:"font-bold text-xs text-gray-800",children:o.code})]}),(0,l.jsx)("div",{className:"text-xs text-gray-700 mb-2 leading-tight font-medium",children:o.name}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,l.jsx)(b.A,{className:"w-3 h-3 text-blue-600"}),(0,l.jsx)("div",{className:"text-xs text-blue-700 font-semibold",children:n.classroomId})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,l.jsx)(u.A,{className:"w-3 h-3 text-green-600"}),(0,l.jsx)("div",{className:"text-xs text-green-700 font-semibold",children:n.facultyId})]}),"lab"===o.type&&(0,l.jsxs)("div",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 py-1 rounded-full text-xs font-bold mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"}),"LAB"]})]}):(0,l.jsx)("div",{className:"text-xs text-gray-400 p-4 font-medium",children:"-"})},"".concat(a,"-").concat(t))})]},t))})]})}),(0,l.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 border-t-2 border-indigo-300 p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(p.A,{className:"w-4 h-4 text-white"})}),(0,l.jsx)("h3",{className:"font-bold text-lg text-indigo-800",children:"Subject List"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.slice(0,10).map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-3 bg-white/60 backdrop-blur-sm rounded-lg p-3 border border-indigo-200 shadow-sm hover:shadow-md transition-all",children:[(0,l.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"font-bold text-sm text-indigo-800",children:e.code}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:e.name})]}),"lab"===e.type&&(0,l.jsx)("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-semibold",children:"LAB"})]},e.id))})]})]})}function w(){let{user:e}=(0,a.A)(),{currentTimetable:t,updates:r,liveClasses:m,markUpdateAsRead:x,joinLiveClass:u}=(0,i.x)(),{toast:b}=(0,c.dj)();if(!e)return null;let f=JSON.parse(localStorage.getItem("readUpdates")||"[]"),w=r.filter(t=>t.affectedUsers.includes(e.role)&&!f.includes(t.id)),k=m.filter(e=>"live"===e.status);return(0,s.useEffect)(()=>{t&&b({title:"\uD83D\uDCC5 Live Timetable Sync",description:"New timetable received from admin panel in real-time"})},[t,b]),(0,s.useEffect)(()=>{let e=e=>{b({title:"⚡ Real-Time Update",description:"Timetable synchronized internally from admin"})};return window.addEventListener("internalTimetableUpdate",e),()=>{window.removeEventListener("internalTimetableUpdate",e)}},[b]),(0,l.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,l.jsxs)("div",{className:"relative overflow-hidden rounded-xl sm:rounded-2xl bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4 sm:p-8 border border-blue-100/50 shadow-lg",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 via-purple-400/10 to-pink-400/10"}),(0,l.jsxs)("div",{className:"relative z-10",children:[(0,l.jsx)("h2",{className:"text-xl sm:text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"student"===e.role?"My Timetable":"Faculty Schedule"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm sm:text-lg mt-2",children:"Real-time updates from administration"})]})]}),k.length>0&&(0,l.jsxs)(d.Zp,{className:"bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 shadow-lg",children:[(0,l.jsx)(d.aR,{children:(0,l.jsxs)(d.ZB,{className:"flex items-center gap-2 text-red-800",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Live Classes Now"]})}),(0,l.jsx)(d.Wu,{children:(0,l.jsx)("div",{className:"space-y-3",children:k.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-red-200",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-red-800",children:e.subjectName}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[e.room," • ",e.facultyName]}),(0,l.jsxs)("div",{className:"text-xs text-red-600",children:[e.startTime," - ",e.endTime]})]}),(0,l.jsxs)(o.$,{onClick:()=>u(e.id),className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600",children:[(0,l.jsx)(g,{className:"w-4 h-4 mr-2"}),"Join Class"]})]},e.id))})})]}),w.length>0&&(0,l.jsxs)(d.Zp,{className:"bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-200 shadow-lg",children:[(0,l.jsx)(d.aR,{children:(0,l.jsxs)(d.ZB,{className:"flex items-center gap-2 text-yellow-800",children:[(0,l.jsx)(y,{className:"w-5 h-5"}),"New Updates (",w.length,")"]})}),(0,l.jsx)(d.Wu,{children:(0,l.jsx)("div",{className:"space-y-3",children:w.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-yellow-200",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"font-medium text-yellow-800",children:["timetable_change"===e.type&&"\uD83D\uDCC5 Timetable Updated","live_class"===e.type&&"\uD83D\uDD34 Live Class","announcement"===e.type&&"\uD83D\uDCE2 Announcement"]}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,l.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]}),(0,l.jsxs)(o.$,{onClick:()=>{x(e.id),b({title:"Update marked as read",description:"Update has been marked as read"})},size:"sm",variant:"outline",className:"border-yellow-300 text-yellow-700 hover:bg-yellow-50",children:[(0,l.jsx)(j,{className:"w-3 h-3 mr-1"}),"Mark Read"]})]},e.id))})})]}),(0,l.jsxs)(d.Zp,{className:"bg-white shadow-lg",children:[(0,l.jsxs)(d.aR,{children:[(0,l.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(p.A,{className:"h-5 w-5 text-blue-500"}),"Current Weekly Schedule",t&&(0,l.jsx)(n.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Live Connected"})]}),(0,l.jsx)(d.BT,{children:t?"Latest timetable from administration - Real-time sync active":"Waiting for admin to publish timetable"})]}),(0,l.jsx)(d.Wu,{children:t?(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Live Timetable - Updated in real-time from admin panel"})]})}),(0,l.jsx)(N,{schedule:t.result[0].schedule,availableSubjects:v})]}):(0,l.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,l.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-blue-800",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Real-time connection active - Waiting for admin"})]})}),(0,l.jsx)(h.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,l.jsx)("p",{className:"text-lg font-medium",children:"No timetable published yet"}),(0,l.jsx)("p",{className:"text-sm mt-2",children:"Admin will publish timetable and it will appear here instantly"}),(0,l.jsxs)(o.$,{variant:"outline",className:"mt-4",onClick:()=>{localStorage.getItem("currentTimetable")&&b({title:"\uD83D\uDD04 Checking for updates",description:"Looking for latest timetable from admin"})},children:[(0,l.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Check for Updates"]})]})})]}),(0,l.jsx)("div",{className:"text-center text-xs text-gray-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Connected to real-time updates"]})})]})}function k(){let{user:e}=(0,a.A)();if(!e)return null;try{return(0,l.jsx)(w,{})}catch(e){return(0,l.jsxs)("div",{className:"p-8 text-center",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-red-600",children:"Error Loading Timetable"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Please refresh the page or contact support."})]})}}},83662:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},91721:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(40157).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[769,843,441,684,358],()=>t(34859)),_N_E=e.O()}]);
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/agarw/OneDrive/Desktop/Timetable%20management/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/agarw/OneDrive/Desktop/Timetable%20management/src/components/role-guard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useAuth } from '@/context/auth-context';\r\nimport { UserRole } from '@/types';\r\nimport { ReactNode } from 'react';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { Shield, AlertCircle } from 'lucide-react';\r\n\r\ninterface RoleGuardProps {\r\n  children: ReactNode;\r\n  allowedRoles: UserRole[];\r\n  fallback?: ReactNode;\r\n}\r\n\r\nexport function RoleGuard({ children, allowedRoles, fallback }: RoleGuardProps) {\r\n  const { user, hasAnyRole } = useAuth();\r\n\r\n  if (!user) {\r\n    return (\r\n      <Alert>\r\n        <AlertCircle className=\"h-4 w-4\" />\r\n        <AlertDescription>\r\n          Please log in to access this content.\r\n        </AlertDescription>\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  if (!hasAnyRole(allowedRoles)) {\r\n    if (fallback) {\r\n      return <>{fallback}</>;\r\n    }\r\n\r\n    return (\r\n      <Alert variant=\"destructive\">\r\n        <Shield className=\"h-4 w-4\" />\r\n        <AlertDescription>\r\n          You don't have permission to access this content. \r\n          Required roles: {allowedRoles.join(', ')}. \r\n          Your role: {user.role}.\r\n        </AlertDescription>\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n// Convenience components for specific roles\r\nexport function AdminOnly({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\r\n  return (\r\n    <RoleGuard allowedRoles={['admin']} fallback={fallback}>\r\n      {children}\r\n    </RoleGuard>\r\n  );\r\n}\r\n\r\nexport function FacultyOnly({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\r\n  return (\r\n    <RoleGuard allowedRoles={['faculty', 'admin']} fallback={fallback}>\r\n      {children}\r\n    </RoleGuard>\r\n  );\r\n}\r\n\r\nexport function StudentOnly({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\r\n  return (\r\n    <RoleGuard allowedRoles={['student']} fallback={fallback}>\r\n      {children}\r\n    </RoleGuard>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAGA;AACA;AAAA;;;AANA;;;;AAcO,SAAS,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAkB;;IAC5E,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,UAAO,AAAD;IAEnC,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC,oIAAA,CAAA,QAAK;;8BACJ,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC,oIAAA,CAAA,mBAAgB;8BAAC;;;;;;;;;;;;IAKxB;IAEA,IAAI,CAAC,WAAW,eAAe;QAC7B,IAAI,UAAU;YACZ,qBAAO;0BAAG;;QACZ;QAEA,qBACE,6LAAC,oIAAA,CAAA,QAAK;YAAC,SAAQ;;8BACb,6LAAC,yMAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;8BAClB,6LAAC,oIAAA,CAAA,mBAAgB;;wBAAC;wBAEC,aAAa,IAAI,CAAC;wBAAM;wBAC7B,KAAK,IAAI;wBAAC;;;;;;;;;;;;;IAI9B;IAEA,qBAAO;kBAAG;;AACZ;GAhCgB;;QACe,qIAAA,CAAA,UAAO;;;KADtB;AAmCT,SAAS,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAiD;IAC7F,qBACE,6LAAC;QAAU,cAAc;YAAC;SAAQ;QAAE,UAAU;kBAC3C;;;;;;AAGP;MANgB;AAQT,SAAS,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAiD;IAC/F,qBACE,6LAAC;QAAU,cAAc;YAAC;YAAW;SAAQ;QAAE,UAAU;kBACtD;;;;;;AAGP;MANgB;AAQT,SAAS,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAiD;IAC/F,qBACE,6LAAC;QAAU,cAAc;YAAC;SAAU;QAAE,UAAU;kBAC7C;;;;;;AAGP;MANgB","debugId":null}}]
}